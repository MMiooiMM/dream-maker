# 故事產生器設定平台（Story Generator）

> 像遊戲一樣，打造你的 12 章故事 🎮📖

一個遊戲化的故事設定網頁平台，使用者透過**選項式操作**（而非文字輸入）快速完成 12 章故事設定。

## ✨ 功能特色

- **🎮 遊戲化操作** — 像 RPG 角色創建一樣設定故事：選世界 → 捏角色 → 配資源 → 編排12關
- **📋 模板系統** — 內建「追妻火葬場」模板，一鍵載入預設配置
- **👤 角色創建** — 性格特質點數分配、資源等級條、關係設定
- **📖 12 章拖曳編排** — 30+ 事件區塊庫，拖曳到章節卡快速安排劇情
- **⚡ 一鍵生成** — 根據模板與基調設定，自動生成 12 章配置
- **📈 即時視覺化** — 情緒曲線（爽/虐/緊張度）即時更新
- **⚠️ 節奏提醒** — 自動檢測節奏問題（虐度過高、誤會太短、洗白過早等）
- **📤 多格式匯出** — Markdown 框架 / JSON 結構化資料 / PNG 截圖
- **💾 本地儲存** — IndexedDB 自動存檔，支援多專案管理

## 🚀 快速開始

```bash
# 安裝依賴
npm install

# 啟動開發伺服器
npm run dev

# 建置生產版本
npm run build
```

開發伺服器啟動後，開啟 http://localhost:5173

## 📁 專案結構

```
src/
├── components/          # UI 組件
│   ├── ui/             # 基礎組件（OptionCard, SliderInput, TagSelector 等）
│   ├── layout/         # 佈局（TopBar, Sidebar）
│   ├── story-config/   # 故事設定面板（模板、世界觀、基調、匯出）
│   ├── character/      # 角色設定面板
│   ├── chapter/        # 章節編排（地圖、區塊庫、編輯器）
│   └── dashboard/      # 節奏儀表板（情緒曲線、警告）
├── data/               # 靜態資料（模板定義、事件區塊庫）
├── features/           # 功能模組（自動排版、情緒引擎、匯出工具）
├── lib/                # 工具庫（cn、storage）
├── pages/              # 頁面組件（首頁、專案列表、編輯器）
├── stores/             # Zustand 狀態管理
└── types/              # TypeScript 類型定義
```

## 🛠️ 技術棧

| 類別 | 工具 |
|------|------|
| 框架 | React 18 + TypeScript |
| 建置 | Vite |
| UI | TailwindCSS |
| 拖曳 | @dnd-kit |
| 狀態 | Zustand |
| 圖表 | Recharts |
| 儲存 | IndexedDB (Dexie.js) + LocalStorage |
| 截圖 | html2canvas |

## 📖 使用流程

1. **選擇模板** — 目前提供「追妻火葬場」模板
2. **設定世界觀** — 選擇時代、類型、規則強度、阻力來源
3. **創建角色** — 設定男主/女主的姓名、身分、性格特質、資源
4. **調整基調** — 設定虐度/爽度、誤會強度、結局類型
5. **編排 12 章** — 從區塊庫拖曳事件到章節，或使用一鍵生成
6. **檢查節奏** — 查看情緒曲線與系統提醒
7. **匯出** — 下載 Markdown 框架、JSON 或 PNG 截圖

## 📊 事件區塊分類

| 分類 | 圖示 | 說明 |
|------|------|------|
| 關係事件 | 💕 | 相遇、升溫、爭吵、冷戰、分離、重逢 |
| 誤會事件 | 💭 | 假證據、信息差、第三者操控、自尊不說 |
| 爽點事件 | 🔥 | 打臉、逆襲、公開認可、男主跪、反派翻車 |
| 虐點事件 | 💔 | 羞辱、誤解、失去、病症、背叛、絕望 |
| 真相事件 | 💡 | 線索、揭露、證據、翻案 |
| 阻礙事件 | 🚧 | 家族施壓、輿論、利益交換、宗門規矩 |
| 章尾鉤子 | 🪝 | 爆點、反轉、懸念、重大決定 |

## 📝 License

MIT
